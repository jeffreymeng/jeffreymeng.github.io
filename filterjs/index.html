<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="Markdown Editor with live preview">
	<meta name="author" content="Jeffrey Meng">

	<title>Clean Blog - Sample Post</title>

	<!-- Bootstrap Core CSS -->
	<link href="css/bootstrap.min.css" rel="stylesheet">

	<!-- Custom CSS -->
	<link href="css/clean-blog.min.css" rel="stylesheet">

	<!-- Custom Fonts -->
	<link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
	<link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="css/splitpane.min.css" type="text/css" />
	<style type="text/css">
		html,
		body {
			height: 100%;
			min-height: 100%;
			margin: 0;
			padding: 0;
		}
		
		#left-component {
			width: 20em;
			/* Same as divider left */
		}
		
		#my-divider {
			left: 20em;
			width: 5px;
			background-color: gray;
		}
		
		#right-component {
			left: 20em;
			/* Same as divider left */
			margin-left: 5px;
			/* Same as divider width */
		}
	</style>

	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<body>

	<!-- Navigation -->
	<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header page-scroll">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="index.html">Start Bootstrap</a>
			</div>

			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
				<ul class="nav navbar-nav navbar-right">
					<li>
						<a href="index.html">Home</a>
					</li>
					<li>
						<a href="about.html">About</a>
					</li>
					<li>
						<a href="post.html">Sample Post</a>
					</li>
					<li>
						<a href="contact.html">Contact</a>
					</li>
				</ul>
			</div>
			<!-- /.navbar-collapse -->
		</div>
		<!-- /.container -->
	</nav>

	<!-- Page Header -->
	<!-- Set your background image for this header on the line below. -->
	<header class="intro-header" style="background-image: url('img/post-bg.jpg')">
		<div class="container">
			<div class="row">
				<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
					<div class="post-heading">
						<h1>Post Editor</h1>
						<h2 class="subheading">Create a new post here</h2>
						<span class="meta">Posted by Jeffrey Meng on January 17, 2016</span>
					</div>
				</div>
			</div>
		</div>
	</header>

	<p>

		<a href="javascript:fullScreen()">Full Screen</a>
	</p>
	<a name="fullscreen" id="sphe"></a>
	<div class="pretty-split-pane-frame">
		<!-- This div is added for styling purposes only. It's not part of the split-pane plugin. -->
		<div class="split-pane fixed-left" style="min-width: 5px;">
			<textarea class="split-pane-component markdown" id="left-component" style="width: 50%;resize: none;">

			</textarea>
			<div class="split-pane-divider" id="my-divider" style="left: 50%;">
				<div class="split-pane-divider-inner"></div>
			</div>
			<div class="split-pane-component" id="right-component" style="left: 50%;">
				<div class="pretty-split-pane-component-inner preview" id="preview">

				</div>
			</div>
			<div class="split-pane-resize-shim" style="display: none;"></div>
		</div>
	</div>
	<!-- Footer -->
	<footer>
		<div class="container">
			<div class="row">
				<div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
					<ul class="list-inline text-center">
						<li>
							<a href="#">
								<span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                                </span>
							</a>
						</li>
						<li>
							<a href="#">
								<span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-facebook fa-stack-1x fa-inverse"></i>
                                </span>
							</a>
						</li>
						<li>
							<a href="#">
								<span class="fa-stack fa-lg">
                                    <i class="fa fa-circle fa-stack-2x"></i>
                                    <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                                </span>
							</a>
						</li>
					</ul>
					<p class="copyright text-muted">Copyright &copy; 2016 Jeffrey Meng</p>
				</div>
			</div>
		</div>
	</footer>

	<!-- jQuery -->
	<script src="js/jquery.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="js/bootstrap.min.js"></script>

	<!-- Custom Theme JavaScript -->
	<script src="js/clean-blog.min.js"></script>
	<script src="js/markdown.js"></script>
	<script src="js/fireblog.js"></script>

	<script src="js/splitpane.min.js"></script>

	<script>
		/* global Firebase */
		function post(dictionary, callback) {
			var firepost = new Firebase("https://jeffreyblog.github.io/posts");
			firepost.child(dictionary.url.replace("http://jeffreymeng.github.io/post.html#", "")).set({"title":dictionary.title, "subtitle":dictionary.subtitle, "content":dictionary.content, "meta":dictionary.meta});
		};
		$(document).ready(function() {
			post({"url":prompt("url"), "content":prompt("content"), "title":prompt("title"), "subtitle":prompt("subtitle"), "meta":prompt("meta")})});
		$(document).ready(function() {
			var editor = $(".markdown");
			var preview = $(".preview");
			editor.val(localStorage.getItem("post"));
			preview.html(convertToHtml(localStorage.getItem("post")));

		});
		/* global convertToHtml */
		$(document).ready(function() {
			var source = $(".markdown");
			var output = $(".preview");
			source.keyup(function() {
				localStorage.setItem("post", source.val());
				output.html(convertToHtml(source.val()).replace("{{curly bracket}}", "{").replace("{{exit full screen}}", "<a href='splitpane.html' style='color:blue;text-decoration:underline;'>Click to enabe Scrolling</a>").replace("{{astrick}}", "*").replace("{{underscore}}", "_"));

			});
		});
	</script>
	<script>

		$(function() {
			$('div.split-pane').splitPane();
		});

		function fullScreen() {
			window.location.hash = "#"
			window.location.hash = "#fullscreen"
			disableScroll();
		}


		// left: 37, up: 38, right: 39, down: 40,
		// spacebar: 32, pageup: 33, pagedown: 34, end: 35, home: 36
		var keys = {
			37: 1,
			38: 1,
			39: 1,
			40: 1
		};

		function preventDefault(e) {
			e = e || window.event;
			if (e.preventDefault)
				e.preventDefault();
			e.returnValue = false;
		}

		function preventDefaultForScrollKeys(e) {
			if (keys[e.keyCode]) {
				preventDefault(e);
				return false;
			}
		}

		function disableScroll() {
			if (window.addEventListener) // older FF
				window.addEventListener('DOMMouseScroll', preventDefault, false);
			window.onwheel = preventDefault; // modern standard
			window.onmousewheel = document.onmousewheel = preventDefault; // older browsers, IE
			window.ontouchmove = preventDefault; // mobile
			document.onkeydown = preventDefaultForScrollKeys;
		}

		function enableScroll() {
			if (window.removeEventListener)
				window.removeEventListener('DOMMouseScroll', preventDefault, false);
			window.onmousewheel = document.onmousewheel = null;
			window.onwheel = null;
			window.ontouchmove = null;
			document.onkeydown = null;
		}
	</script>
</body>
</html>